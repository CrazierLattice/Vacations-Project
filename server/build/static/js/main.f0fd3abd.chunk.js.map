{"version":3,"sources":["actions/actionsType.js","dataFetch/fetchUser.js","components/Login.jsx","components/Register.jsx","dataFetch/fetchVacations.js","dataFetch/fetchFollowedVacations.js","dataFetch/handleFollow.js","dataFetch/deleteVacation.js","components/adminPanel/DeleteVacationModal.jsx","dataFetch/editVacation.js","components/adminPanel/EditVacationModal.jsx","components/Vacation.jsx","components/Vacations.jsx","components/adminPanel/Chart.jsx","dataFetch/postVacation.js","components/adminPanel/AddVacation.jsx","dataFetch/getTokenData.js","App.js","reducers/vacationsReducer.js","reducers/followReducer.js","reducers/postVacationReducer.js","index.js","reducers/loginReducer.js","reducers/registerReducer.js","reducers/editVacationReducer.js","reducers/loginMessageReducer.js"],"names":["LOG_IN","LOG_OUT","LOG_IN_MESSAGES","CLEAR_LOG_IN_MESSAGES","GET_VACATIONS","POST_VACATION_MESSAGE","DELETE_VACATION_MESSAGE","GET_FOLLOWED_VACATIONS","RESET_VACATIONS","EDIT_VACATION","REGISTER_USER","DELETE_REGISTER_USER_MESSAGE","HandleLogin","username","password","history","dispatch","a","fetch","method","headers","body","JSON","stringify","res","json","data","user","type","payload","token","localStorage","setItem","push","Login","useHistory","useDispatch","useState","setUsername","setPassword","getItem","loginFailMessage","useSelector","state","loginMessage","useEffect","className","Input","value","onChange","e","target","inputProps","Button","onClick","variant","color","to","error","Alert","severity","AlertTitle","message","Register","firstName","setFirstName","lastName","setLastName","handleRegistery","registerMessage","register","length","fetchVacations","authorization","console","log","vacations","fetchFollowedVacations","userId","followedVacations","unfollowedVacations","likes","likesData","handleFollow","followerId","vacationId","Promise","resolve","reject","err","deleteVacation","useStyles","makeStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","DeleteVacationModal","vacation","open","handleClose","update","setUpdate","classes","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","id","location","editVacation","description","starting_date","ending_date","price","image","Authorization","EditVacationModal","setLocation","desc","setDesc","setPrice","startingDate","setStartingDate","endingDate","setEndingDate","setImage","Dialog","DialogTitle","DialogContent","Box","flexDirection","TextField","label","TextareaAutosize","aria-label","rowsMin","placeholder","utils","DateFnsUtils","disableToolbar","format","margin","KeyboardButtonProps","DialogActions","then","results","alert","disabled","root","maxWidth","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","red","Vacation","role","expanded","setExpanded","openDeleteModal","setOpenDeleteModal","openEditModal","setOpenEditModal","Card","CardHeader","title","CardMedia","CardContent","Typography","component","slice","CardActions","disableSpacing","IconButton","followers","clsx","aria-expanded","Collapse","unmountOnExit","paragraph","Vacations","userVacations","adminVacations","flexWrap","map","v","find","like","vacation_id","Chart","forEach","name","width","top","right","left","bottom","allowDecimals","dataKey","stroke","offset","position","angle","wrapperStyle","borderRadius","lineHeight","strokeDasharray","fill","barSize","postVacation","AddVacation","Date","postVacationMessage","startIcon","getTokenData","App","React","anchorEl","setAnchorEl","first_name","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Boolean","MenuItem","clear","exact","path","from","oldState","rootReducer","combineReducers","action","last_name","newState","editVacationReducer","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"oNAAaA,EAAS,SACTC,EAAU,UACVC,EAAkB,kBAClBC,EAAwB,wBACxBC,EAAgB,gBAChBC,EAAwB,wBACxBC,EAA0B,0BAE1BC,EAAyB,yBACzBC,EAAkB,kBAClBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAA+B,+B,2CCV/BC,EAAW,uCAAG,WAAMC,EAASC,EAASC,EAAQC,GAAhC,iBAAAC,EAAA,sEACLC,MAAM,8BAA+B,CACnDC,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAU,CAChBV,WACAC,eANe,cACjBU,EADiB,gBASHA,EAAIC,OATD,QAShBC,EATgB,QAUTC,MACNX,EAAS,CACLY,KAAK5B,EACL6B,QAAQ,CACJF,KAAKD,EAAKC,KAAK,GACfG,MAAMJ,EAAKI,SAGnBC,aAAaC,QAAQ,QAAUN,EAAKI,OACpCf,EAAQkB,KAAK,eAGbjB,EAAS,CACLY,KAAK1B,EACL2B,QAAQH,IAxBG,2CAAH,4D,kBC0CTQ,EApCD,WACV,IAAMnB,EAAUoB,cACVnB,EAAWoB,cAFD,EAGgBC,mBAAS,IAHzB,mBAGTxB,EAHS,KAGCyB,EAHD,OAIgBD,mBAAS,IAJzB,mBAITvB,EAJS,KAICyB,EAJD,KAKVT,EAAQC,aAAaS,QAAQ,SAC7BC,EAAmBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,gBAUpD,OARAC,qBAAU,WACN7B,EAAS,CACLY,KAAKzB,EACL0B,QAAQ,OAERC,GAAOf,EAAQkB,KAAK,gBAC1B,IAGE,sBAAKa,UAAU,qCAAf,UACI,wCACA,cAACC,EAAA,EAAD,CAAOC,MAAOnC,EAAUoC,SAAU,SAACC,GAAD,OAAKZ,EAAYY,EAAEC,OAAOH,QAAQI,WAAY,CAAE,aAAc,cAAe,YAAc,cAC7H,cAACL,EAAA,EAAD,CAAOC,MAAOlC,EAAUmC,SAAU,SAACC,GAAD,OAAKX,EAAYW,EAAEC,OAAOH,QAASI,WAAY,CAAE,KAAO,WAAW,aAAc,cAAe,YAAc,cAChJ,cAACC,EAAA,EAAD,CAASC,QAAS,WACd1C,EAAYC,EAASC,EAASC,EAAQC,IACvCuC,QAAQ,YAAYC,MAAM,UAF7B,oBAGA,cAAC,IAAD,CAAMC,GAAG,YAAT,SAAqB,0DAED,OAAhBhB,QAAgB,IAAhBA,OAAA,EAAAA,EAAkBiB,QAClB,eAACC,EAAA,EAAD,CAAQC,UAA0B,OAAhBnB,QAAgB,IAAhBA,OAAA,EAAAA,EAAkBiB,QAAS,QAA7C,UACL,cAACG,EAAA,EAAD,WAA6B,OAAhBpB,QAAgB,IAAhBA,OAAA,EAAAA,EAAkBiB,QAAS,UADnC,OAEPjB,QAFO,IAEPA,OAFO,EAEPA,EAAkBqB,eCyBZC,EAvDE,WAAO,IAAD,EACbhD,EAAUoB,cADG,EAEeE,mBAAS,IAFxB,mBAEZ2B,EAFY,KAEDC,EAFC,OAGa5B,mBAAS,IAHtB,mBAGZ6B,EAHY,KAGFC,EAHE,OAIa9B,mBAAS,IAJtB,mBAIZxB,EAJY,KAIFyB,EAJE,OAKaD,mBAAS,IALtB,mBAKZvB,EALY,KAKFyB,EALE,KAMZT,EAASY,aAAY,SAAAC,GAAK,OAAEA,EAAMhB,QAAlCG,MACDd,EAAWoB,cAEXgC,EAAe,uCAAG,8BAAAnD,EAAA,sEACFC,MAAM,iCAAmC,CACvDC,OAAO,OACPC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAU,CAACyC,YAAUE,WAASrD,WAASC,eAJjC,cACdU,EADc,gBAODA,EAAIC,OAPH,OAOdC,EAPc,OAQhBV,EAAS,CACLY,KAAKlB,EACLmB,QAAQH,IAVI,2CAAH,qDAerBmB,qBAAU,WACN7B,EAAS,CACLY,KAAKjB,EACLkB,QAAQ,OAERC,GAAOf,EAAQkB,KAAK,gBAC1B,IAEF,IAAMoC,EAAkB3B,aAAY,SAAAC,GAAK,OAAEA,EAAM2B,YACjD,OAEI,sBAAKxB,UAAU,WAAf,UACI,gDACA,cAACC,EAAA,EAAD,CAAOC,MAAOgB,EAAWf,SAAU,SAACC,GAAD,OAAKe,EAAaf,EAAEC,OAAOH,QAAQI,WAAY,CAAE,aAAc,cAAe,YAAc,gBAC/H,cAACL,EAAA,EAAD,CAAOC,MAAOkB,EAAUjB,SAAU,SAACC,GAAD,OAAKiB,EAAYjB,EAAEC,OAAOH,QAAQI,WAAY,CAAE,aAAc,cAAe,YAAc,eAC7H,cAACL,EAAA,EAAD,CAAOC,MAAOnC,EAAUoC,SAAU,SAACC,GAAD,OAAKZ,EAAYY,EAAEC,OAAOH,QAAQI,WAAY,CAAE,aAAc,cAAe,YAAc,cAC7H,cAACL,EAAA,EAAD,CAAOC,MAAOlC,EAAUmC,SAAU,SAACC,GAAD,OAAKX,EAAYW,EAAEC,OAAOH,QAASI,WAAY,CAAE,KAAO,WAAW,aAAc,cAAe,YAAc,cAChJ,cAACC,EAAA,EAAD,CAAQE,QAAQ,YAAYC,MAAM,UAAUF,QAASc,EAArD,sBACA,cAAC,IAAD,CAAMX,GAAG,SAAT,kCAEmB,OAAfY,QAAe,IAAfA,GAAA,UAAAA,EAAiBP,eAAjB,eAA0BS,SAC1B,eAACZ,EAAA,EAAD,CAAQC,UAAyB,OAAfS,QAAe,IAAfA,OAAA,EAAAA,EAAiBX,OAAQ,QAAU,UAArD,UACL,cAACG,EAAA,EAAD,WAA4B,OAAfQ,QAAe,IAAfA,OAAA,EAAAA,EAAiBX,OAAQ,QAAU,YAD3C,OAEPW,QAFO,IAEPA,OAFO,EAEPA,EAAiBP,eCrDbU,EAAc,uCAAG,WAAOxD,EAASc,GAAhB,iBAAAb,EAAA,sEACJC,MAAM,sCAAwC,CAC5DE,QAAQ,CAACqD,cAAc3C,KAFL,cAChBN,EADgB,gBAIHA,EAAIC,OAJD,cAIhBC,EAJgB,OAKtBgD,QAAQC,IAAIjD,GACZV,EAAS,CACLY,KAAKxB,EACLyB,QAAQ,CACJ+C,UAAUlD,EAAKkD,aATD,kBAaflD,EAAKkD,WAbU,2CAAH,wDCAdC,EAAsB,uCAAG,WAAOC,EAAO9D,EAASc,GAAvB,iBAAAb,EAAA,sEAEhBC,MAAM,qDAAD,OAAsD4D,GAAS,CAClF1D,QAAQ,CAACqD,cAAc3C,KAHO,cAE5BN,EAF4B,gBAKfA,EAAIC,OALW,YAK5BC,EAL4B,QAMzBgC,MANyB,yCAMVgB,QAAQC,IAAIjD,IANF,OAOlCV,EAAS,CACLY,KAAKrB,EACLsB,QAAQ,CAACkD,kBAAkBrD,EAAKqD,kBAAkBC,oBAAoBtD,EAAKsD,oBAAoBC,MAAMvD,EAAKwD,aAT5E,2CAAH,0D,8JCDtBC,GAAY,uCAAG,WAAOC,EAAYC,GAAnB,SAAApE,EAAA,+EAEjB,IAAIqE,QAAJ,uCAAY,WAAOC,EAAQC,GAAf,iBAAAvE,EAAA,+EAKOC,MAAM,uCAAD,OAAwCkE,EAAxC,YAAsDC,GAAe,CACxFlE,OAAO,MACPC,QAAQ,CAACqD,cAAc1C,aAAaS,QAAQ,YAPrC,cAKLhB,EALK,gBASQA,EAAIC,OATZ,OASLC,EATK,OAUX6D,EAAQ,CAACE,IAAI,KAAK/D,KAAKA,IAVZ,kDAcX8D,EAAO,CAACC,IAAI,KAAI3B,QAASpC,KAAK,OAdnB,0DAAZ,0DAFiB,2CAAH,wD,mDCAZgE,GAAc,uCAAG,WAAML,EAAWvD,GAAjB,iBAAAb,EAAA,sEACRC,MAAM,0CAAD,OAA2CmE,GAAc,CAC5ElE,OAAO,SACPC,QAAQ,CAACqD,cAAc3C,KAHD,cACpBN,EADoB,gBAKPA,EAAIC,OALG,OAKpBC,EALoB,OAM1BgD,QAAQC,IAAIjD,GANc,2CAAH,wDCSlBiE,GAAYC,aAAW,SAACC,GAAD,MAAU,CAEtCC,MAAO,CACHC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAElBC,MAAO,CACLC,gBAAiBN,EAAMO,QAAQC,WAAWH,MAC1CI,OAAQ,iBACRC,UAAWV,EAAMW,QAAQ,GACzBC,QAASZ,EAAMa,QAAQ,EAAG,EAAG,QAoCtBC,GAhCa,SAAC,GAAwD,IAAvDC,EAAsD,EAAtDA,SAASC,EAA6C,EAA7CA,KAAKC,EAAwC,EAAxCA,YAAYC,EAA4B,EAA5BA,OAAOC,EAAqB,EAArBA,UAAUlF,EAAW,EAAXA,MAC/DmF,EAAUtB,KAChB,OACG,cAACuB,GAAA,EAAD,CACCC,kBAAgB,yBAChBC,mBAAiB,+BACjBtE,UAAWmE,EAAQnB,MACnBe,KAAMA,EACNQ,QAASP,EACTQ,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACbC,QAAS,KATZ,SAYC,cAACC,GAAA,EAAD,CAAMC,GAAIf,EAAV,SACE,sBAAK/D,UAAWmE,EAAQf,MAAxB,UACE,oBAAI2B,GAAG,yBAAP,qBACA,oBAAGA,GAAG,+BAAN,qCAA8DjB,EAASkB,SAAvE,gCACA,sBAAKhF,UAAU,sBAAf,UACA,wBAASQ,QAASwD,EAAlB,mBACC,wBAASxD,QAAS,WAChBoC,GAAekB,EAASiB,GAAG/F,GAC3BkF,EAAUD,EAAS,IAFrB,+B,mGC3CAgB,GAAY,uCAAG,WAAO/G,EAAS6G,EAAG/F,EAAMkG,EAAYF,EAASG,EAAcC,EAAYC,EAAMC,GAA9E,iBAAAnH,EAAA,sEACNC,MAAM,wCAAD,OAAyC2G,GAAO,CACnE1G,OAAO,MACPC,QAAQ,CACP,eAAe,mBACfiH,cAAcvG,GAEfT,KAAKC,KAAKC,UAAU,CAACyG,cAAYF,WAASG,gBAAcC,cAAYC,QAAMC,YAPtD,cAClB5G,EADkB,OASxBkD,QAAQC,IAAInD,GATY,SAULA,EAAIC,OAVC,cAUlBC,EAVkB,QAWdgC,OACN1C,EAAS,CACLY,KAAKnB,EACLoB,QAAQH,IAdQ,kBAiBjBA,GAjBiB,2CAAH,sECyEV4G,GA/DW,SAAC,GAAwD,IAAvD1B,EAAsD,EAAtDA,SAAS9E,EAA6C,EAA7CA,MAAMiF,EAAuC,EAAvCA,OAAOC,EAAgC,EAAhCA,UAAUH,EAAsB,EAAtBA,KAAKC,EAAiB,EAAjBA,YACvD9F,EAAWoB,cAD6D,EAE9CC,mBAASuE,EAASkB,UAF4B,mBAEvEA,EAFuE,KAE7DS,EAF6D,OAGtDlG,mBAASuE,EAASoB,aAHoC,mBAGvEQ,EAHuE,KAGjEC,EAHiE,OAIrDpG,mBAASuE,EAASuB,OAJmC,mBAIvEA,EAJuE,KAIjEO,EAJiE,OAKrCrG,mBAASuE,EAASqB,eALmB,mBAKtEU,EALsE,KAKxDC,EALwD,OAMzCvG,mBAASuE,EAASsB,aANuB,mBAMtEW,EANsE,KAM1DC,EAN0D,OAOrDzG,mBAASuE,EAASwB,OAPmC,mBAOvEA,EAPuE,KAOjEW,EAPiE,KAQ9E,OACI,8BACF,eAACC,GAAA,EAAD,CAAQnC,KAAMA,EAAMQ,QAASP,EAAaK,kBAAgB,oBAA1D,UACE,eAAC8B,GAAA,EAAD,CAAapB,GAAG,oBAAhB,kBAA0CjB,EAASkB,YACnD,cAACoB,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CAAOC,cAAc,SAASrD,QAAQ,OAAtC,UACI,cAACsD,GAAA,EAAD,CAAWrG,MAAO8E,EAAU7E,SAAU,SAACC,GAAD,OAAKqF,EAAYrF,EAAEC,OAAOH,QAASsG,MAAM,aAC/E,cAACC,GAAA,EAAD,CAAkBvG,MAAOwF,EAAOvF,SAAU,SAACC,GAAD,OAAKuF,EAAQvF,EAAEC,OAAOH,QAASwG,aAAW,iBAAkBF,MAAM,cAAcG,QAAS,EAAGC,YAAY,2BAClJ,cAACL,GAAA,EAAD,CAAWrG,MAAOmF,EAAOlF,SAAU,SAACC,GAAD,OAAKwF,EAASxF,EAAEC,OAAOH,QAASsG,MAAM,UACzE,eAAC,KAAD,CAAyBK,MAAOC,KAAhC,UACD,cAAC,KAAD,CAAoBC,gBAAc,EAACtG,QAAQ,SAASuG,OAAO,aAAaC,OAAO,SAAWT,MAAM,gBAChGtG,MAAO2F,EACP1F,SAAU,SAACC,GAAD,OAAK0F,EAAgB1F,IAC/B8G,oBAAqB,CACT,aAAc,iBAG1B,cAAC,KAAD,CAAoBH,gBAAc,EAACtG,QAAQ,SAASuG,OAAO,aAAaC,OAAO,SAAWT,MAAM,cAC/FtG,MAAO6F,EACP5F,SAAU,SAACC,GAAD,OAAK4F,EAAc5F,IAC7B8G,oBAAqB,CACR,aAAc,oBAI3B,cAACX,GAAA,EAAD,CAAWrG,MAAOoF,EAAOnF,SAAU,SAACC,GAAD,OAAK6F,EAAS7F,EAAEC,OAAOH,QAASsG,MAAM,UACzE,eAACW,GAAA,EAAD,WACA,cAAC5G,EAAA,EAAD,CACAC,QAAO,sBAAE,sBAAArC,EAAA,sEACJ8G,GAAa/G,EAAS4F,EAASiB,GAAG/F,EAAM0G,EAAKV,EAASa,EAAaE,EAAWV,EAAMC,GACzF8B,MAAK,SAAAC,GACJ,IAAKA,EAAQzG,MAAO,OAAOsD,EAAUD,EAAS,GAC9CqD,MAAMD,EAAQrG,YAJN,2CASTuG,WAAWjC,GAAUN,GAAaU,GAASL,GAAUQ,GAAiBE,GACrErF,MAAM,UACND,QAAQ,YAZT,2BAgBA,cAACF,EAAA,EAAD,CAAQC,QAASwD,EAAavD,QAAQ,YAAYC,MAAM,YAAxD,kCC1CRmC,GAAYC,aAAW,SAACC,GAAD,MAAY,CAEvCyE,KAAM,CACJC,SAAU,KAEZC,MAAO,CACLC,OAAQ,EACRC,WAAY,UAEdC,OAAQ,CACNC,UAAW,eACXC,WAAY,OACZC,WAAYjF,EAAMkF,YAAYC,OAAO,YAAa,CAChDC,SAAUpF,EAAMkF,YAAYE,SAASC,YAGzCC,WAAY,CACVP,UAAW,kBAEbQ,OAAQ,CACNjF,gBAAiBkF,IAAI,UA0FVC,GAvFE,SAAC,GAAuC,IAAtC1E,EAAqC,EAArCA,SAASG,EAA4B,EAA5BA,OAAOC,EAAqB,EAArBA,UAAU/B,EAAW,EAAXA,MAAW,EAE9BvC,aAAY,SAAAC,GAAK,OAAEA,EAAMhB,QAA1CkG,EAF+C,EAE/CA,GAAG0D,EAF4C,EAE5CA,KAAKzJ,EAFuC,EAEvCA,MACf4C,QAAQC,IAAIiC,EAAQ,aACpB,IAAMK,EAAUtB,KAJsC,EAKtBtD,oBAAS,GALa,mBAK/CmJ,EAL+C,KAKrCC,EALqC,OASRpJ,oBAAS,GATD,mBAS/CqJ,EAT+C,KAS9BC,EAT8B,OAUZtJ,oBAAS,GAVG,mBAU/CuJ,EAV+C,KAUhCC,EAVgC,KAwBpD,OACI,qBAAK/I,UAAU,WAAf,SACE,eAACgJ,EAAA,EAAD,CAAMhJ,UAAWmE,EAAQqD,KAAzB,UACA,cAACyB,EAAA,EAAD,CACEC,MAAOpF,EAASkB,WAElB,cAACmE,EAAA,EAAD,CACEnJ,UAAWmE,EAAQuD,MACnBpC,MAAOxB,EAASwB,MAChB4D,MAAM,gBAER,cAACE,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAY5I,QAAQ,QAAQC,MAAM,gBAAgB4I,UAAU,KAA5D,yBACaxF,EAASkB,SADtB,IACgC,uBADhC,gBAEa,uBAFb,IAEoBlB,EAASqB,cAAcoE,MAAM,EAAE,IAFnD,IAEwD,uBAFxD,cAGa,uBAHb,IAGoBzF,EAASsB,YAAYmE,MAAM,EAAE,IAHjD,IAGsD,uBAHtD,UAKQzF,EAASuB,MALjB,eAQF,eAACmE,EAAA,EAAD,CAAaC,gBAAc,EAA3B,UACY,SAAThB,GAAmB,eAACiB,EAAA,EAAD,CAAYlJ,QAAO,sBAAE,sBAAArC,EAAA,sEACjCkE,GAAa0C,EAAGjB,EAASiB,IADQ,OAEvCb,EAAUD,EAAS,GAFoB,2CAArB,WAIb,OAAL9B,QAAK,IAALA,OAAA,EAAAA,EAAOA,QAAS,EAJE,KAIE,cAAC,IAAD,CAAmBzB,MAAOoD,EAAQ,YAAkB,YAAc,QAG9E,UAAT2E,GACD,sCACS,OAAR3E,QAAQ,IAARA,OAAA,EAAAA,EAAU6F,YAAa,EADxB,IAC2B,cAAC,IAAD,CAAmBjJ,MAAO,cACrD,cAACgJ,EAAA,EAAD,CAAYlJ,QA5CM,WAC1BuI,GAAiB,IA2CT,SACE,cAAC,KAAD,CAAUrI,MAAM,cAEhB,cAAC,GAAD,CAAmBuD,OAAQA,EAAQC,UAAWA,EAAWH,KAAM+E,EAAe9J,MAAOA,EAAO8E,SAAUA,EAAWE,YA5ChG,WAC3B+E,GAAiB,MA4CT,cAACW,EAAA,EAAD,CAAYlJ,QAzCQ,WAC5BqI,GAAmB,IAwCX,SACE,cAAC,IAAD,CAAYnI,MAAM,YAElB,cAAC,GAAD,CAAqBuD,OAAQA,EAAQC,UAAWA,EAAWlF,MAAOA,EAAO8E,SAAUA,EAAUC,KAAM6E,EAAkB5E,YAzClG,WAC7B6E,GAAmB,SA2CX,cAACa,EAAA,EAAD,CACE1J,UAAW4J,YAAKzF,EAAQ0D,OAAT,eACZ1D,EAAQkE,WAAaK,IAExBlI,QA/Dc,WACxBmI,GAAaD,IA+DHmB,gBAAenB,EACfhC,aAAW,YANb,SAQE,cAAC,IAAD,SAGJ,cAACoD,EAAA,EAAD,CAAUhF,GAAI4D,EAAU9D,QAAQ,OAAOmF,eAAa,EAApD,SACE,cAACX,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAYW,WAAS,EAArB,SACDlG,EAASoB,wBCjEP+E,GAnDG,WACd,IAAM/L,EAAWoB,cACXrB,EAAUoB,cAFI,EAGkCO,aAAY,SAAAC,GAAK,OAAEA,EAAMqK,iBAAxEjI,EAHa,EAGbA,kBAAkBC,EAHL,EAGKA,oBAAoBC,EAHzB,EAGyBA,MACtCL,EAAalC,aAAY,SAAAC,GAAK,OAAEA,EAAMsK,kBAAtCrI,UAJa,EAKIlC,aAAY,SAAAC,GAAK,OAAEA,EAAMhB,QAA1CkG,EALa,EAKbA,GAAG0D,EALU,EAKVA,KAAKzJ,EALK,EAKLA,MALK,EAMOO,mBAAS,GANhB,mBAMb0E,EANa,KAMNC,EANM,KAoBpB,OAZAnE,qBAAU,WACN,IAAKd,aAAaS,QAAQ,SAAU,OAAOzB,EAAQkB,KAAK,UAI3C,SAATsJ,EACA1G,EAAuBgD,EAAG7G,EAASc,GAEnB,UAATyJ,GACP/G,EAAexD,EAASc,KAE9B,CAACiF,IAEC,gCAGc,SAATwE,GACD,qCACA,oBAAIzI,UAAU,eAAd,gCACA,eAACqG,GAAA,EAAD,CAAKpD,QAAQ,OAAOmH,SAAS,OAA7B,WACkB,OAAjBnI,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBR,QAASQ,EAAkBoI,KAAI,SAACC,GAAD,OAAK,cAAC,GAAD,CAAsBrG,OAAQA,EAAQ9B,MAAOA,EAAMoI,MAAK,SAACC,GAAD,OAAQA,EAAKC,cAAcH,EAAEvF,MAAKb,UAAWA,EAAYJ,SAAUwG,GAA3GA,EAAEvF,OAAiH,0DAC3L,0BAEA,oBAAI/E,UAAU,+BAAd,kCACA,cAACqG,GAAA,EAAD,CAAKpD,QAAQ,OAAOmH,SAAS,OAA7B,UACoB,OAAnBlI,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBT,QAASS,EAAoBmI,KAAI,SAACC,GAAD,OAAK,cAAC,GAAD,CAAsBrG,OAAQA,EAAQ9B,MAAOA,EAAMoI,MAAK,SAACC,GAAD,OAAQA,EAAKC,cAAcH,EAAEvF,MAAKb,UAAWA,EAAaJ,SAAUwG,GAA5GA,EAAEvF,OAAkH,+DAQhL,UAAP0D,GACG,cAACpC,GAAA,EAAD,CAAKpD,QAAQ,OAAOmH,SAAS,OAA7B,UACS,OAATtI,QAAS,IAATA,OAAA,EAAAA,EAAWL,QAASK,EAAUuI,KAAI,SAACC,GAAD,OAAK,cAAC,GAAD,CAAsBrG,OAAQA,EAAQC,UAAWA,EAAWJ,SAAUwG,GAAtDA,EAAEvF,OAA4D,+D,SCM9H2F,GAjDD,WAAO,IACV5I,EAAalC,aAAY,SAAAC,GAAK,OAAEA,EAAMsK,kBAAtCrI,UACD7D,EAAUoB,cAFA,EAGKO,aAAY,SAAAC,GAAK,OAAEA,EAAMhB,QAAvCG,EAHS,EAGTA,MAAMyJ,EAHG,EAGHA,KACPvK,EAAWoB,cACXV,EAAO,GAsBb,OApBAmB,qBAAU,WACDd,aAAaS,QAAQ,UAAmB,UAAP+I,GAE9B,OAAC3G,QAAD,IAACA,OAAD,EAACA,EAAWL,SACZC,EAAexD,EAASc,GAHsBf,EAAQkB,KAAK,YAOpE,IACM,OAAT2C,QAAS,IAATA,KAAW6I,SAAQ,SAAA7G,GACXA,EAAS6F,WACT/K,EAAKO,KAAK,CACNyL,KAAK9G,EAASkB,SACd2E,UAAU7F,EAAS6F,eAK/B/H,QAAQC,IAAIC,IAGJ,OAAJlD,QAAI,IAAJA,OAAA,EAAAA,EAAM6C,QACF,qBAAKzB,UAAU,QAAf,SACA,cAAC,KAAD,CAAqB6K,MAAM,OAAOlD,OAAQ,IAA1C,SACJ,eAAC,KAAD,CAAYV,OAAQ,CAAC6D,IAAK,EAAGC,MAAO,GAAIC,KAAM,GAAIC,OAAQ,GAAMrM,KAAMA,EAAtE,UACA,cAAC,KAAD,CAAOsM,cAAc,QAAQC,QAAQ,OAAOC,OAAO,UAAU5E,MAAO,CAAC6E,QAAQ,GAAIC,SAAS,eAAgBpL,MAAM,eAChH,cAAC,KAAD,CAAOgL,cAAc,QAAQC,QAAQ,YAAY3E,MAAO,CAAC6E,QAAQ,GAAIE,OAAO,GAAID,SAAS,aAAcpL,MAAM,eAC7G,cAAC,KAAD,CAASsL,aAAc,CAAEX,MAAO,IAAKxH,gBAAiB,UACtD,cAAC,KAAD,CAAQwH,MAAO,IAAKW,aAAc,CAAEV,IAAK,GAAIC,MAAO,GAAI1H,gBAAiB,UAAWG,OAAQ,oBAAqBiI,aAAc,EAAGC,WAAY,UAC9I,cAAC,KAAD,CAAeN,OAAO,OAAOO,gBAAgB,QAC7C,cAAC,KAAD,CAAMf,KAAK,YAAYO,QAAQ,YAAYS,KAAK,UAAUC,QAAS,YAI/D,6D,qBC/CCC,GAAY,uCAAG,WAAO9G,EAASE,EAAYW,EAAaE,EAAWV,EAAMC,EAAMpH,EAASc,GAAzE,iBAAAb,EAAA,sEACNC,MAAM,sCAAuC,CAC3DC,OAAO,OACPC,QAAQ,CACJ,eAAe,mBACfqD,cAAc3C,GAElBT,KAAKC,KAAKC,UAAU,CAACyG,cAAYF,WAASa,eAAaE,aAAWT,QAAMD,YAPpD,cAClB3G,EADkB,gBASLA,EAAIC,OATC,OASlBC,EATkB,OAUxBV,EAAS,CACLY,KAAKvB,EACLwB,QAAQH,IAZY,2CAAH,oECYnBiE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCK,MAAO,CACHC,gBAAiB,QACjBwH,MAAM,QAGVrD,KAAM,CACJvE,QAAS,OACTmH,SAAU,OACV,QAAS,CACPnD,OAAQlE,EAAMa,QAAQ,GACtBiH,MAAO9H,EAAMa,QAAQ,IACrB+D,OAAQ5E,EAAMa,QAAQ,UAiEfmI,GA5DK,WAAO,IAAD,IAChB9N,EAAUoB,cACVnB,EAAWoB,cACVmJ,EAAQ7I,aAAY,SAAAC,GAAK,OAAIA,EAAMhB,QAAnC4J,KACAzJ,EAASY,aAAY,SAAAC,GAAK,OAAEA,EAAMhB,QAAlCG,MAJe,EAKUO,mBAAS,IALnB,mBAKfyF,EALe,KAKLS,EALK,OAMElG,mBAAS,IANX,mBAMfmG,EANe,KAMTC,EANS,OAOGpG,mBAAS,IAPZ,mBAOf8F,EAPe,KAOTO,EAPS,OAQmBrG,mBAAS,IAAIyM,MARhC,mBAQdnG,EARc,KAQAC,EARA,OASevG,mBAAS,IAAIyM,MAT5B,mBASdjG,EATc,KASFC,EATE,OAUGzG,mBAAS,IAVZ,mBAUf+F,EAVe,KAUTW,EAVS,KAWhBgG,EAAsBrM,aAAY,SAAAC,GAAK,OAAIA,EAAMiM,gBACjD3H,EAAUtB,KAUhB,OARA9C,qBAAU,WACN,GAAa,UAAT0I,IAAqBzJ,EAAS,OAAOf,EAAQkB,KAAK,KAEtDjB,EAAS,CACLY,KAAKtB,EACLuB,QAAQ,SAEd,IAGE,yBAAKiB,UAAWmE,EAAQf,OAAxB,0BAAyC,qBAAzC,0BACJ,cAACnD,EAAA,EAAD,CAAOC,MAAO8E,EAAU7E,SAAU,SAACC,GAAD,OAAKqF,EAAYrF,EAAEC,OAAOH,QAAQI,WAAY,CAAE,aAAc,cAAe,YAAc,gBAC7H,cAACmG,GAAA,EAAD,CAAkBvG,MAAOwF,EAAOvF,SAAU,SAACC,GAAD,OAAKuF,EAAQvF,EAAEC,OAAOH,QAASwG,aAAW,iBAAkBC,QAAS,EAAGC,YAAY,2BAC9H,cAAC3G,EAAA,EAAD,CAAOC,MAAOmF,EAAQlF,SAAU,SAACC,GAAD,OAAKwF,EAASxF,EAAEC,OAAOH,QAAQI,WAAY,CAAE,KAAO,SAAU,aAAc,QAAS,YAAc,aACnI,eAAC,KAAD,CAAyBuG,MAAOC,KAAhC,UACA,cAAC,KAAD,CAAoBC,gBAAc,EAACtG,QAAQ,SAASuG,OAAO,aAAaC,OAAO,SAAWT,MAAM,gBAC5FtG,MAAO2F,EACP1F,SAAU,SAACC,GAAD,OAAK0F,EAAgB1F,IAC/B8G,oBAAqB,CACjB,aAAc,iBAGtB,cAAC,KAAD,CAAoBH,gBAAc,EAACtG,QAAQ,SAASuG,OAAO,aAAaC,OAAO,SAAWT,MAAM,cAC5FtG,MAAO6F,EACP5F,SAAU,SAACC,GAAD,OAAK4F,EAAc5F,IAC7B8G,oBAAqB,CACjB,aAAc,oBAItB,cAACjH,EAAA,EAAD,CAAOC,MAAOoF,EAAOnF,SAAU,SAACC,GAAD,OAAK6F,EAAS7F,EAAEC,OAAOH,QAAQI,WAAY,CAAE,aAAc,QAAS,YAAc,aACjH,cAACC,EAAA,EAAD,CAAQC,QAAS,kBAAIsL,GAAa9G,EAASU,EAAKG,EAAaE,EAAWV,EAAMC,EAAMpH,EAASc,IAAQyB,QAAQ,YAAYC,MAAM,UAAWwL,UAAW,cAAC,KAAD,IAArJ,kCAIyB,OAAnBD,QAAmB,IAAnBA,GAAA,UAAAA,EAAqBjL,eAArB,eAA8BS,SAC9B,eAACZ,EAAA,EAAD,CAAQC,UAA6B,OAAnBmL,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBrL,OAAQ,QAAU,UAAzD,UACF,cAACG,EAAA,EAAD,WAAgC,OAAnBkL,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBrL,OAAQ,QAAU,YADlD,OAEDqL,QAFC,IAEDA,OAFC,EAEDA,EAAqBjL,aA5BtB,KCtDKmL,GAAY,uCAAI,WAAMjO,EAASD,GAAf,mBAAAE,EAAA,2DACnBa,EAAQC,aAAaS,QAAQ,UADV,iCAGJtB,MAAM,sCAAwC,CAC/DC,OAAO,OACPC,QAAQ,CACN,eAAe,mBACfqD,cAAc3C,KAPK,cAGjBJ,EAHiB,gBAULA,EAAKD,OAVA,OAUjBD,EAViB,OAWvBkD,QAAQC,IAAI,MAAOnD,GACnBR,EAAS,CACPY,KAAK,SACLC,QAAQ,CACJF,KAAKH,EAAIE,KAAK,GACdI,MAAMA,KAGZf,EAAQkB,KAAK,cAnBU,4CAAJ,wD,oBCsGViN,GArFH,WAAO,IAAD,EACVvN,EAAOe,aAAY,SAAAC,GAAK,OAAEA,EAAMhB,QAC/BG,EAASY,aAAY,SAAAC,GAAK,OAAEA,EAAMhB,QAAlCG,MAEDd,EAAWoB,cACXrB,EAAUoB,cALA,EAMgBgN,IAAM9M,SAAS,MAN/B,mBAMT+M,EANS,KAMCC,EAND,KAYVvI,EAAc,WAClBuI,EAAY,OAmBf,OAhBCxM,qBAAU,WACDlB,EAAK4C,QACR0K,GAAajO,EAASD,GAEL,UAAX,OAAJY,QAAI,IAAJA,OAAA,EAAAA,EAAM4J,MACR1G,EAAuBlD,EAAKkG,GAAG7G,EAASc,GAEhB,WAAX,OAAJH,QAAI,IAAJA,OAAA,EAAAA,EAAM4J,OAEf/G,EAAexD,EAASc,KAG5B,IAKA,eAAC,IAAD,WACE,iCACM,OAAJH,QAAI,IAAJA,OAAA,EAAAA,EAAMG,QAAS,2CAAcH,EAAK2N,cACpC,cAACjM,EAAA,EAAD,CAAQE,QAAQ,YAAYC,MAAM,UAAU+L,gBAAc,cAAcC,gBAAc,OAAOlM,QAAS,SAACJ,GA3BzGmM,EA2ByHnM,EA3BvGuM,gBA2BhB,kBACE,eAACC,GAAA,EAAD,CACA7H,GAAG,cACHuH,SAAUA,EACVO,aAAW,EACX9I,KAAM+I,QAAQR,GACd/H,QAASP,EALT,WAQC,OAAJnF,QAAI,IAAJA,OAAA,EAAAA,EAAMG,QAAS,cAAC+N,GAAA,EAAD,CAAUvM,QAAS,WAChC,IACDwD,KAFc,SAGZ,cAAC,IAAD,CAAMrD,GAAG,aAAT,oBAEY,WAAX,OAAJ9B,QAAI,IAAJA,OAAA,EAAAA,EAAM4J,OAAoB,cAACsE,GAAA,EAAD,CAAUvM,QAAS,SAACJ,GAAD,OAAK4D,KAAxB,SAAwC,cAAC,IAAD,CAAMrD,GAAG,qBAAT,4BACnD,WAAX,OAAJ9B,QAAI,IAAJA,OAAA,EAAAA,EAAM4J,OAAoB,cAACsE,GAAA,EAAD,CAAUvM,QAAS,SAACJ,GAAD,OAAK4D,KAAxB,SAAwC,cAAC,IAAD,CAAMrD,GAAG,eAAT,iCAClE,OAAC9B,QAAD,IAACA,OAAD,EAACA,EAAMG,QAAS,eAAC+N,GAAA,EAAD,CAAUvM,QAAS,SAACJ,GAAD,OAAK4D,KAAxB,cAAyC,cAAC,IAAD,CAAMrD,GAAG,SAAT,wBACzD,OAAC9B,QAAD,IAACA,OAAD,EAACA,EAAMG,QAAS,eAAC+N,GAAA,EAAD,CAAUvM,QAAS,SAACJ,GAAD,OAAK4D,KAAxB,cAAyC,cAAC,IAAD,CAAMrD,GAAG,YAAT,0BACpD,OAAJ9B,QAAI,IAAJA,GAAA,UAAAA,EAAMG,aAAN,eAAayC,SAAW,eAACsL,GAAA,EAAD,CAAUvM,QAAS,SAACJ,GAC3C4D,IACA/E,aAAa+N,QACb9O,EAAS,CACPY,KAAK3B,EACL4B,QAAQ,IAET,CACED,KAAKpB,EACLqB,QAAQ,KAGVd,EAAQkB,KAAK,WAZS,cAapB,cAAC,IAAD,CAAMwB,GAAG,SAAT,6BAKJ,eAAC,IAAD,WAEC,cAAC,IAAD,CAAOsM,OAAK,EAACC,KAAK,SAAU5D,UAAW,kBAAI,cAAC,EAAD,OAC1C,cAAC,IAAD,CAAO2D,OAAK,EAACC,KAAK,YAAa5D,UAAW,kBAAI,cAAC,EAAD,OAChD,cAAC,IAAD,CAAO2D,OAAK,EAACC,KAAK,aAAc5D,UAAW,kBAAI,cAAC,GAAD,OAC/C,cAAC,IAAD,CAAO2D,OAAK,EAACC,KAAK,qBAAqB5D,UAAW,kBAAI,cAAC,GAAD,OACtD,cAAC,IAAD,CAAO2D,OAAK,EAACC,KAAK,eAAe5D,UAAW,kBAAI,cAAC,GAAD,OAChD,cAAC,IAAD,CAAU6D,KAAM,IAAIxM,GAAG,aAAasM,OAAK,W,SC/F3CG,GAAW,GCCXA,GAAW,GCAXA,GAAW,G,SCcXC,GAAcC,aAAgB,CAChCzO,KCdc,WAA0B,IAAzBgB,EAAwB,uDAAhB,GAAK0N,EAAW,uCACrC,OAAQA,EAAOzO,MACX,KAAK5B,EAAL,MACoDqQ,EAAOxO,QAAQF,KAAxD2N,EADX,EACWA,WAAWgB,EADtB,EACsBA,UAAUzP,EADhC,EACgCA,SAAS0K,EADzC,EACyCA,KAAK1D,EAD9C,EAC8CA,GACnC/F,EAASuO,EAAOxO,QAAhBC,MACP,OAAO,6BAAMa,GAAb,IAAmB2M,aAAWgB,YAAUzP,WAAS0K,OAAK1D,KAAG/F,UAC7D,KAAK7B,EAED,OADA0C,EAAQ0N,EAAOxO,QAEX,QACR,OAAOc,IDKbsK,eHhBc,WAA0C,IAAVoD,EAAS,uCACrD,OAAQA,EAAOzO,MACX,KAAKxB,EAAL,IACWwE,EAAayL,EAAOxO,QAApB+C,UACP,OAAO,6BAAKsL,IAAZ,IAAsBtL,cAI1B,QACI,OAAOsL,KGQjB5L,SEhBc,WAA0B,IAAzB3B,EAAwB,uDAAhB,GAAK0N,EAAW,uCACrC,OAAQA,EAAOzO,MACX,KAAKlB,EAGL,KAAKC,EAED,OADAgC,EAAQ0N,EAAOxO,QAEX,QACR,OAAOc,IFQbqK,cFjBa,WAAmC,IAAlCuD,EAAiC,uDAAtBL,GAAWG,EAAW,uCAE7C,OAAQA,EAAOzO,MACX,KAAKrB,EAAL,MAC0D8P,EAAOxO,QAAtDkD,EADX,EACWA,kBAAkBC,EAD7B,EAC6BA,oBAAoBC,EADjD,EACiDA,MAC7C,OAAO,6BAAIiL,IAAX,IAAsBnL,oBAAkBC,sBAAoBC,UAChE,KAAKzE,EACD,OAAO0P,GACX,QACI,OAAOK,IESjBC,oBGnBa,WAAsB,IAArB7N,EAAoB,uDAAd,GAAG0N,EAAW,uCAChC,OAAQA,EAAOzO,MACX,KAAKnB,EAED,OADAkC,EAAQ0N,EAAOxO,QAEnB,QACI,OAAOc,IHcjBiM,aDjBa,WAAkC,IAAZyB,EAAW,uCAC5C,OAAQA,EAAOzO,MACX,KAAKvB,EAED,OADWgQ,EAAOxO,QAGtB,KAAKvB,EAED,OADA4P,GAAWG,EAAOxO,QAEtB,QACI,OAAOqO,KCQjBtN,aIrBa,WAAsB,IAArBD,EAAoB,uDAAd,GAAG0N,EAAW,uCAChC,OAAQA,EAAOzO,MACX,KAAK1B,EAGL,KAAKC,EAED,OADAwC,EAAQ0N,EAAOxO,QAEnB,QACA,OAAOc,MJcX8N,GAAQC,aAAYP,GAAYQ,OAAOC,8BAAgCD,OAAOC,gCAClFC,IAASC,OACL,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACA,cAAC,IAAD,UACA,cAAC,GAAD,QAGFM,SAASC,eAAe,W","file":"static/js/main.f0fd3abd.chunk.js","sourcesContent":["export const LOG_IN = \"LOG_IN\"\r\nexport const LOG_OUT = \"LOG_OUT\"\r\nexport const LOG_IN_MESSAGES = \"LOG_IN_MESSAGES\"\r\nexport const CLEAR_LOG_IN_MESSAGES = \"CLEAR_LOG_IN_MESSAGES\"\r\nexport const GET_VACATIONS = \"GET_VACATIONS\"\r\nexport const POST_VACATION_MESSAGE = \"POST_VACATION_MESSAGE\"\r\nexport const DELETE_VACATION_MESSAGE = \"DELETE_VACATION_MESSAGE\"\r\nexport const DELETE_VACATION = \"DELETE_VACATION\"\r\nexport const GET_FOLLOWED_VACATIONS = \"GET_FOLLOWED_VACATIONS\"\r\nexport const RESET_VACATIONS = \"RESET_VACATIONS\"\r\nexport const EDIT_VACATION = \"EDIT_VACATION\"\r\nexport const REGISTER_USER = \"REGISTER_USER\"\r\nexport const DELETE_REGISTER_USER_MESSAGE = \"DELETE_REGISTER_USER_MESSAGE\"","import { CLEAR_LOG_IN_MESSAGES, LOG_IN, LOG_IN_MESSAGES } from \"../actions/actionsType\"\r\n\r\nexport const HandleLogin = async(username,password,history,dispatch) => {\r\n    const res = await fetch('http://localhost:1000/login', {\r\n        method:'POST',\r\n        headers:{\"Content-Type\":\"application/json\"},\r\n        body:JSON.stringify({\r\n            username,\r\n            password\r\n        })\r\n    })\r\n    const  data = await res.json()\r\n         if (data.user) {\r\n            dispatch({\r\n                type:LOG_IN,\r\n                payload:{\r\n                    user:data.user[0],\r\n                    token:data.token\r\n                }\r\n            })\r\n            localStorage.setItem('token' , data.token)\r\n            history.push('/vacations')\r\n        \r\n        } else {\r\n            dispatch({\r\n                type:LOG_IN_MESSAGES,\r\n                payload:data\r\n            })\r\n        }\r\n}","\r\nimport { Input, Button } from '@material-ui/core';\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useSelector ,useDispatch} from \"react-redux\";\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {HandleLogin} from '../dataFetch/fetchUser'\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport { CLEAR_LOG_IN_MESSAGES } from '../actions/actionsType';\r\nconst Login = () => {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const token = localStorage.getItem('token')\r\n    const loginFailMessage = useSelector(state => state.loginMessage)\r\n    \r\n    useEffect(()=>{\r\n        dispatch({\r\n            type:CLEAR_LOG_IN_MESSAGES,\r\n            payload:null\r\n        })\r\n        if (token) history.push('/vacations')\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column login-container\">\r\n            <h2>Log in</h2>\r\n            <Input value={username} onChange={(e)=>setUsername(e.target.value)} inputProps={{ 'aria-label': 'description' ,'placeholder':'Username'}} />\r\n            <Input value={password} onChange={(e)=>setPassword(e.target.value)}  inputProps={{ 'type':'password','aria-label': 'description' ,'placeholder':'Password'}} />\r\n            <Button  onClick={()=>{\r\n                HandleLogin(username,password,history,dispatch)\r\n            }} variant=\"contained\" color=\"primary\">Log in</Button>\r\n            <Link to=\"/register\"><p>Click here to register</p></Link>\r\n            {\r\n                loginFailMessage?.error && \r\n                <Alert  severity={loginFailMessage?.error && \"error\"}>\r\n           <AlertTitle>{loginFailMessage?.error && \"Error\"}</AlertTitle>\r\n        {loginFailMessage?.message}\r\n         </Alert>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import { Button, Input} from '@material-ui/core'\r\nimport React, { useState,useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { DELETE_REGISTER_USER_MESSAGE, REGISTER_USER } from '../actions/actionsType'\r\n\r\nconst Register = () => {\r\n    const history = useHistory()\r\n    const [firstName, setFirstName] = useState(\"\")\r\n    const [lastName, setLastName] = useState(\"\")\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const {token} = useSelector(state=>state.user)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleRegistery = async() => {\r\n        const res = await fetch('http://localhost:1000/register' , {\r\n            method:'POST',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify({firstName,lastName,username,password})\r\n        })\r\n\r\n        const data = await res.json()\r\n            dispatch({\r\n                type:REGISTER_USER,\r\n                payload:data\r\n            })\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch({\r\n            type:DELETE_REGISTER_USER_MESSAGE,\r\n            payload:null\r\n        })\r\n        if (token) history.push('/vacations')\r\n    },[])\r\n\r\n    const registerMessage = useSelector(state=>state.register)\r\n    return (\r\n        \r\n        <div className=\"register\">\r\n            <h2>Registery Page</h2>\r\n            <Input value={firstName} onChange={(e)=>setFirstName(e.target.value)} inputProps={{ 'aria-label': 'description' ,'placeholder':'First Name'}} />\r\n            <Input value={lastName} onChange={(e)=>setLastName(e.target.value)} inputProps={{ 'aria-label': 'description' ,'placeholder':'Last Name'}} />\r\n            <Input value={username} onChange={(e)=>setUsername(e.target.value)} inputProps={{ 'aria-label': 'description' ,'placeholder':'Username'}} />\r\n            <Input value={password} onChange={(e)=>setPassword(e.target.value)}  inputProps={{ 'type':'password','aria-label': 'description' ,'placeholder':'Password'}} />\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleRegistery}>Register</Button>\r\n            <Link to=\"/login\">Click here to login</Link>\r\n            {\r\n                registerMessage?.message?.length && \r\n                <Alert  severity={registerMessage?.error ? \"error\" : \"success\"}>\r\n           <AlertTitle>{registerMessage?.error ? \"Error\" : \"Success\"}</AlertTitle>\r\n        {registerMessage?.message}\r\n         </Alert>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import {GET_VACATIONS} from '../actions/actionsType'\r\nexport const fetchVacations = async (dispatch,token) => {   \r\n        const res = await fetch('http://localhost:1000/vacations/all' , {\r\n            headers:{authorization:token}\r\n        })\r\n        const data = await res.json()\r\n        console.log(data)\r\n        dispatch({\r\n            type:GET_VACATIONS,\r\n            payload:{\r\n                vacations:data.vacations,\r\n\r\n            }\r\n        })\r\n        return data.vacations\r\n}","import {GET_FOLLOWED_VACATIONS} from '../actions/actionsType'\r\nexport const fetchFollowedVacations = async (userId,dispatch,token) => {\r\n\r\n    const res = await fetch(`http://localhost:1000/vacations/followedvacations/${userId}`,{\r\n        headers:{authorization:token}\r\n    })\r\n    const data = await res.json()\r\n    if (data.error)  return console.log(data);\r\n    dispatch({\r\n        type:GET_FOLLOWED_VACATIONS,\r\n        payload:{followedVacations:data.followedVacations,unfollowedVacations:data.unfollowedVacations,likes:data.likesData}\r\n    })\r\n\r\n}","export const handleFollow = async (followerId, vacationId) =>{\r\n    \r\n    return new Promise(async (resolve,reject)=>{\r\n\r\n\r\n        try{\r\n\r\n            const res = await fetch(`http://localhost:1000/vacations/put/${followerId}/${vacationId}` , {\r\n                method:'PUT',\r\n                headers:{authorization:localStorage.getItem('token')}\r\n            })\r\n            const data = await res.json();\r\n            resolve({err:null,data:data});\r\n\r\n        }catch(err){\r\n\r\n            reject({err:err.message, data:null});\r\n\r\n        }\r\n\r\n\r\n        // dispatch({\r\n        //     type:GET_VACATIONS,\r\n        //     payload:{\r\n        //         vacations:data.vacations,\r\n\r\n        //     }\r\n        // })\r\n\r\n\r\n    })\r\n}","export const deleteVacation = async(vacationId,token) => {\r\n    const res = await fetch(`http://localhost:1000/vacations/delete/${vacationId}`, {\r\n        method:'DELETE',\r\n        headers:{authorization:token}\r\n    })\r\n    const data = await res.json()\r\n    console.log(data)\r\n}","import React from 'react'\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { deleteVacation } from '../../dataFetch/deleteVacation';\r\n\r\n\r\n   const useStyles = makeStyles((theme)=>({\r\n    \r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n      }\r\n}))\r\n\r\nconst DeleteVacationModal = ({vacation,open,handleClose,update,setUpdate,token}) => {\r\n    const classes = useStyles();\r\n    return (\r\n       <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <h2 id=\"transition-modal-title\">WARNING</h2>\r\n            <p id=\"transition-modal-description\">You are about to delete {vacation.location} from the vacation's list.</p>\r\n            <div className=\"modal-btn-container\">\r\n            <button  onClick={handleClose}>CLOSE</button>\r\n             <button  onClick={()=>{\r\n               deleteVacation(vacation.id,token)\r\n               setUpdate(update + 1)\r\n             }}>DELETE</button>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal> \r\n    )\r\n}\r\n\r\nexport default DeleteVacationModal\r\n","import {EDIT_VACATION} from '../actions/actionsType'\r\n\r\nexport const editVacation = async (dispatch,id,token,description,location,starting_date,ending_date,price,image) => {\r\n    const res = await fetch(`http://localhost:1000/vacations/edit/${id}` , {\r\n        method:'PUT',\r\n        headers:{\r\n         'Content-Type':'application/json',\r\n         Authorization:token\r\n        },\r\n        body:JSON.stringify({description,location,starting_date,ending_date,price,image})\r\n    })\r\n    console.log(res)\r\n    const data = await res.json()\r\n    if (!data.error) {\r\n        dispatch({\r\n            type:EDIT_VACATION,\r\n            payload:data\r\n        })\r\n    }\r\n    return data\r\n}","import React, {useState} from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {useDispatch} from 'react-redux'\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {  Button, TextareaAutosize, TextField, Box } from '@material-ui/core';\r\nimport {KeyboardDatePicker,MuiPickersUtilsProvider} from '@material-ui/pickers';\r\nimport {editVacation} from '../../dataFetch/editVacation'\r\n\r\nconst EditVacationModal = ({vacation,token,update,setUpdate,open,handleClose}) => {\r\n    const dispatch = useDispatch()\r\n    const [location, setLocation] = useState(vacation.location);\r\n    const [desc, setDesc] = useState(vacation.description);\r\n    const [price,setPrice] = useState(vacation.price);\r\n    const  [startingDate, setStartingDate] = useState(vacation.starting_date)\r\n    const  [endingDate, setEndingDate] = useState(vacation.ending_date)\r\n    const [image,setImage] = useState(vacation.image)\r\n    return (\r\n        <div>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Edit {vacation.location}</DialogTitle>\r\n        <DialogContent>\r\n          <Box   flexDirection=\"column\" display=\"flex\">\r\n              <TextField value={location} onChange={(e)=>setLocation(e.target.value)}  label=\"Location\" />\r\n              <TextareaAutosize value={desc}  onChange={(e)=>setDesc(e.target.value)}  aria-label=\"minimum height\"  label=\"Description\" rowsMin={3} placeholder=\"Vacation description..\" />\r\n              <TextField value={price} onChange={(e)=>setPrice(e.target.value)}  label=\"Price\" />\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n             <KeyboardDatePicker disableToolbar variant=\"inline\" format=\"yyyy/MM/dd\" margin=\"normal\"   label=\"Starting date\" \r\n             value={startingDate}\r\n             onChange={(e)=>setStartingDate(e)}\r\n             KeyboardButtonProps={{\r\n                         'aria-label': 'change date',\r\n             }}\r\n             />\r\n             <KeyboardDatePicker disableToolbar variant=\"inline\" format=\"yyyy/MM/dd\" margin=\"normal\"   label=\"Ending date\" \r\n              value={endingDate}\r\n              onChange={(e)=>setEndingDate(e)}\r\n              KeyboardButtonProps={{\r\n                           'aria-label': 'change date',\r\n              }}\r\n              />\r\n          </MuiPickersUtilsProvider >\r\n              <TextField value={image} onChange={(e)=>setImage(e.target.value)}  label=\"Image\" />\r\n              <DialogActions>\r\n              <Button \r\n              onClick={async () => {\r\n             await editVacation(dispatch,vacation.id,token,desc,location,startingDate,endingDate,price,image)\r\n             .then(results=>{\r\n               if (!results.error) return setUpdate(update + 1)\r\n               alert(results.message)\r\n             })\r\n             \r\n                \r\n              }}\r\n              disabled={!image || !location || !desc || !price || !startingDate || !endingDate ? true : false}\r\n               color=\"primary\" \r\n               variant=\"contained\"\r\n               >\r\n              EDIT VACATION\r\n             </Button>\r\n              <Button onClick={handleClose} variant=\"contained\" color=\"secondary\">\r\n              CANCEL\r\n             </Button>\r\n        </DialogActions>\r\n              </Box>\r\n        </DialogContent>\r\n\r\n      </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditVacationModal\r\n","import React, {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport FavoriteSharpIcon from '@material-ui/icons/FavoriteSharp';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {handleFollow} from '../dataFetch/handleFollow'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { useSelector } from 'react-redux'\r\nimport DeleteVacationModal from './adminPanel/DeleteVacationModal';\r\nimport EditVacationModal from './adminPanel/EditVacationModal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\nconst Vacation = ({vacation,update,setUpdate,likes}) => {\r\n  // const followers = likes.vacation_id = vacation.id\r\n  const {id,role,token} = useSelector(state=>state.user)\r\n  console.log(vacation[\"Followed_by\"])\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState(false);\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n  const [openDeleteModal, setOpenDeleteModal] = useState(false);\r\n  const [openEditModal, setOpenEditModal] = useState(false)\r\n  const handleOpenEditModal = () => {\r\n    setOpenEditModal(true)\r\n  }\r\n  const handleCloseEditModal = () => {\r\n    setOpenEditModal(false)\r\n  }\r\n\r\n  const handleOpenDeleteModal = () => {\r\n    setOpenDeleteModal(true);\r\n  };\r\n  const handleCloseDeleteModal = () => {\r\n    setOpenDeleteModal(false);\r\n  };\r\n    return (\r\n        <div className=\"vacation\">\r\n          <Card className={classes.root}>\r\n          <CardHeader           \r\n            title={vacation.location}\r\n          />\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={vacation.image}\r\n            title=\"Paella dish\"\r\n          />\r\n          <CardContent>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"h6\">\r\n            Vacation in {vacation.location} <br/>\r\n            Starting at: <br/> {vacation.starting_date.slice(0,10)} <br/>\r\n              Ending at: <br/> {vacation.ending_date.slice(0,10)} <br/>\r\n              \r\n            Price: {vacation.price} &#8362;\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions disableSpacing>\r\n            {role === \"user\" && <IconButton onClick={async()=>{\r\n              await handleFollow(id,vacation.id);\r\n              setUpdate(update + 1);\r\n            }}>\r\n             {likes?.likes || 0}  <FavoriteSharpIcon color={vacation[\"Followed_by\"] ? \"secondary\" : \"\"}/>\r\n              </IconButton>}\r\n\r\n            {role === \"admin\" &&\r\n            <>\r\n            {vacation?.followers || 0} <FavoriteSharpIcon color={\"secondary\"}/>\r\n            <IconButton onClick={handleOpenEditModal}>\r\n              <EditIcon color=\"primary\"/>\r\n            </IconButton>\r\n              <EditVacationModal update={update} setUpdate={setUpdate} open={openEditModal} token={token} vacation={vacation}  handleClose={handleCloseEditModal}/>\r\n            <IconButton onClick={handleOpenDeleteModal}>\r\n              <DeleteIcon color=\"error\"/>\r\n            </IconButton>\r\n              <DeleteVacationModal update={update} setUpdate={setUpdate} token={token} vacation={vacation} open={openDeleteModal}  handleClose={handleCloseDeleteModal}/>\r\n            </>\r\n            }  \r\n            <IconButton\r\n              className={clsx(classes.expand, {\r\n                [classes.expandOpen]: expanded,\r\n              })}\r\n              onClick={handleExpandClick}\r\n              aria-expanded={expanded}\r\n              aria-label=\"show more\"\r\n            >\r\n              <ExpandMoreIcon />\r\n            </IconButton>\r\n          </CardActions>\r\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n            <CardContent>\r\n              <Typography paragraph>\r\n            {vacation.description}\r\n            </Typography>\r\n            </CardContent>\r\n          </Collapse>\r\n        </Card>\r\n        </div>\r\n      );\r\n}\r\nexport default Vacation\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {fetchVacations} from '../dataFetch/fetchVacations'\r\nimport {fetchFollowedVacations} from '../dataFetch/fetchFollowedVacations'\r\nimport Vacation from '../components/Vacation'\r\nimport { Box } from '@material-ui/core'\r\nconst Vacations = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const {followedVacations,unfollowedVacations,likes} = useSelector(state=>state.userVacations)  \r\n    const {vacations} = useSelector(state=>state.adminVacations)\r\n    const {id,role,token} = useSelector(state=>state.user)   \r\n    const [update,setUpdate] = useState(0)\r\n\r\n    useEffect(()=>{\r\n        if (!localStorage.getItem('token')) return history.push('/login') \r\n       \r\n      \r\n       \r\n        if (role === \"user\") {\r\n            fetchFollowedVacations(id,dispatch,token)\r\n\r\n        } else if (role === \"admin\") {\r\n            fetchVacations(dispatch,token)\r\n        }\r\n    },[update])\r\n    return (\r\n        <div >\r\n            \r\n            \r\n            {role === \"user\" && \r\n            <>\r\n            <h1 className=\"follow-title\">Followed Vacations</h1>\r\n            <Box display=\"flex\" flexWrap=\"wrap\">\r\n            {followedVacations?.length ? followedVacations.map((v)=><Vacation  key={v.id} update={update} likes={likes.find((like)=>like.vacation_id===v.id)} setUpdate={setUpdate}  vacation={v}/>) : <h3>No vacations to display.</h3>}\r\n            <hr/>\r\n            </Box>\r\n            <h1 className=\"follow-title vacations-title\">Unfollowed vacations</h1>\r\n            <Box display=\"flex\" flexWrap=\"wrap\">\r\n            {unfollowedVacations?.length ? unfollowedVacations.map((v)=><Vacation  key={v.id} update={update} likes={likes.find((like)=>like.vacation_id===v.id)} setUpdate={setUpdate}   vacation={v}/>) : <h3>No vacations to display.</h3>}\r\n            </Box>\r\n\r\n            </>\r\n\r\n            }\r\n            \r\n                {\r\n                    (role===\"admin\") && (\r\n                        <Box display=\"flex\" flexWrap=\"wrap\">\r\n                       {vacations?.length ? vacations.map((v)=><Vacation  key={v.id} update={update} setUpdate={setUpdate} vacation={v}/>) : <h1>No vacations to display</h1>}\r\n                       </Box>\r\n                    ) \r\n                }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Vacations\r\n","import React, {useEffect} from 'react'\r\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, Legend, CartesianGrid, ResponsiveContainer, Label } from 'recharts';\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {fetchVacations} from '../../dataFetch/fetchVacations'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nconst Chart = () => {\r\n    const {vacations} = useSelector(state=>state.adminVacations)\r\n    const history = useHistory()\r\n    const {token,role} = useSelector(state=>state.user)\r\n    const dispatch = useDispatch()\r\n    const data = [];\r\n    \r\n    useEffect(() => {\r\n        if (!localStorage.getItem('token') || role!==\"admin\") history.push('/login')\r\n        else {\r\n            if (!vacations?.length) {\r\n                fetchVacations(dispatch,token)\r\n            }\r\n        }\r\n        \r\n    }, [])\r\n    vacations?.forEach(vacation => {\r\n        if (vacation.followers) {\r\n            data.push({\r\n                name:vacation.location,\r\n                followers:vacation.followers\r\n            })\r\n        }\r\n    });\r\n    \r\n    console.log(vacations)\r\n\r\n    return (\r\n        data?.length ? (\r\n            <div className=\"graph\"> \r\n            <ResponsiveContainer width=\"100%\" height={400}>        \r\n        <BarChart   margin={{top: 5, right: 30, left: 20, bottom: 5}}   data={data}>\r\n        <XAxis allowDecimals=\"false\" dataKey=\"name\" stroke=\"#8884d8\" label={{offset:-25, position:\"insideBottom\", value:\"Locations\"}}/>\r\n        <YAxis allowDecimals=\"false\" dataKey=\"followers\" label={{offset:-10, angle:-90, position:\"insideLeft\", value:\"Followers\"}}/>\r\n        <Tooltip wrapperStyle={{ width: 100, backgroundColor: '#ccc' }} />\r\n        <Legend width={100} wrapperStyle={{ top: 40, right: 20, backgroundColor: '#f5f5f5', border: '1px solid #d5d5d5', borderRadius: 3, lineHeight: '80px' }} />\r\n        <CartesianGrid stroke=\"#ccc\" strokeDasharray=\"5 5\" />\r\n        <Bar  name=\"followers\" dataKey=\"followers\" fill=\"#6664d8\" barSize={30} />\r\n      </BarChart>\r\n           </ResponsiveContainer>\r\n            </div>\r\n        ) : <h1>No vacations followed yet.</h1>\r\n               \r\n\r\n\r\n        \r\n    )\r\n}\r\n\r\nexport default Chart\r\n  ","import {POST_VACATION_MESSAGE} from '../actions/actionsType'\r\nexport const postVacation = async (location,description,startingDate,endingDate,price,image,dispatch,token) => {\r\n    const res = await fetch('http://localhost:1000/vacations/new' ,{\r\n        method:'POST',\r\n        headers:{\r\n            'content-type':'application/json',\r\n            authorization:token\r\n        },\r\n        body:JSON.stringify({description,location,startingDate,endingDate,image,price})\r\n    })\r\n    const data = await res.json()\r\n    dispatch({\r\n        type:POST_VACATION_MESSAGE,\r\n        payload:data\r\n    })\r\n\r\n\r\n}","import React, {useEffect, useState} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { Input, Button, TextareaAutosize } from '@material-ui/core';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport {KeyboardDatePicker,MuiPickersUtilsProvider} from '@material-ui/pickers';\r\nimport { postVacation } from '../../dataFetch/postVacation';\r\nimport { DELETE_VACATION_MESSAGE } from '../../actions/actionsType';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        backgroundColor: \"white\",\r\n        width:\"100%\"\r\n\r\n    },\r\n    root: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n      '& > *': {\r\n        margin: theme.spacing(1),\r\n        width: theme.spacing(16),\r\n        height: theme.spacing(16),\r\n      },\r\n    },\r\n  }));\r\n\r\nconst AddVacation = () => {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const {role} = useSelector(state => state.user)\r\n    const {token} = useSelector(state=>state.user)\r\n    const [location, setLocation] = useState(\"\");\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [price,setPrice] = useState(\"\");\r\n    const  [startingDate, setStartingDate] = useState(new Date())\r\n    const  [endingDate, setEndingDate] = useState(new Date())\r\n    const [image,setImage] = useState(\"\")\r\n    const postVacationMessage = useSelector(state => state.postVacation)\r\n    const classes = useStyles();\r\n\r\n    useEffect(()=>{\r\n        if (role !== \"admin\" || !token )  return history.push('/')\r\n        //Reset post message\r\n        dispatch({\r\n            type:DELETE_VACATION_MESSAGE,\r\n            payload:null\r\n        })\r\n    },[])\r\n    return (\r\n \r\n        <div className={classes.paper} className=\"add-vacation-form\">\r\n    <Input value={location} onChange={(e)=>setLocation(e.target.value)} inputProps={{ 'aria-label': 'description' ,'placeholder':'Locatoin..'}} /> \r\n    <TextareaAutosize value={desc}  onChange={(e)=>setDesc(e.target.value)}  aria-label=\"minimum height\"  rowsMin={3} placeholder=\"Vacation description..\"  /> \r\n    <Input value={price}  onChange={(e)=>setPrice(e.target.value)} inputProps={{ 'type':'number' ,'aria-label': 'price' ,'placeholder':'Price..'}} /> \r\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n    <KeyboardDatePicker disableToolbar variant=\"inline\" format=\"dd/MM/yyyy\" margin=\"normal\"   label=\"Starting date\" \r\n        value={startingDate}\r\n        onChange={(e)=>setStartingDate(e)}\r\n        KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n        }}\r\n        />\r\n    <KeyboardDatePicker disableToolbar variant=\"inline\" format=\"dd/MM/yyyy\" margin=\"normal\"   label=\"Ending date\" \r\n        value={endingDate}\r\n        onChange={(e)=>setEndingDate(e)}\r\n        KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n        }}\r\n        />\r\n   </MuiPickersUtilsProvider >\r\n    <Input value={image} onChange={(e)=>setImage(e.target.value)} inputProps={{ 'aria-label': 'image' ,'placeholder':'Image..'}} /> \r\n    <Button onClick={()=>postVacation(location,desc,startingDate,endingDate,price,image,dispatch,token)} variant=\"contained\" color=\"default\"  startIcon={<CloudUploadIcon />} >\r\n        Submit new vacation\r\n      </Button>\r\n      {\r\n          postVacationMessage?.message?.length &&   \r\n          <Alert  severity={postVacationMessage?.error ? \"error\" : \"success\"}>\r\n        <AlertTitle>{postVacationMessage?.error ? \"Error\" : \"Success\"}</AlertTitle>\r\n        {postVacationMessage?.message}\r\n      </Alert>\r\n      }\r\n       </div>\r\n   \r\n    )\r\n}\r\n\r\nexport default AddVacation\r\n","export const getTokenData =  async(dispatch,history) => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n      const data = await fetch('http://localhost:1000/login/refresh' , {\r\n        method:'POST',\r\n        headers:{\r\n          'Content-Type':'application/json',\r\n          authorization:token\r\n        }\r\n      })\r\n      const res = await data.json()\r\n      console.log('res', res)\r\n      dispatch({\r\n        type:\"LOG_IN\",\r\n        payload:{\r\n            user:res.data[0],\r\n            token:token\r\n        }\r\n      })  \r\n      history.push('/vacations')\r\n  }\r\n  }","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector} from 'react-redux'\nimport { BrowserRouter as Router, Route , Switch,  Link, useHistory, Redirect } from 'react-router-dom'\nimport {LOG_OUT, RESET_VACATIONS} from './actions/actionsType'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport Vacations from './components/Vacations'\nimport Chart from './components/adminPanel/Chart'\nimport AddVacation from './components/adminPanel/AddVacation'\nimport { Button } from '@material-ui/core'\nimport { getTokenData } from './dataFetch/getTokenData'\nimport {fetchVacations} from './dataFetch/fetchVacations'\nimport {fetchFollowedVacations} from './dataFetch/fetchFollowedVacations'\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n\nconst App = () => {\n  const user = useSelector(state=>state.user)\n  const {token} = useSelector(state=>state.user)\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  useEffect(()=>{\n      if (!user.length) {\n        getTokenData(dispatch,history)\n      }\n      if (user?.role === \"user\") {\n        fetchFollowedVacations(user.id,dispatch,token)\n        \n      } else if (user?.role === \"admin\") {\n\n        fetchVacations(dispatch,token)\n      }\n    \n  },[])\n \n\n  \n return (\n    <Router>\n      <div>\n      { user?.token && <h1>Welcome, {user.first_name}</h1>} \n      <Button variant=\"contained\" color=\"primary\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={(e)=>handleClick(e)}>Menu</Button>\n        <Menu \n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        >\n\n    {user?.token && <MenuItem onClick={()=>{\n      <Redirect to=\"/vacations\"/>\n      handleClose()\n    }} ><Link to=\"/vacations\">Home</Link>\n    </MenuItem>} \n    {user?.role === \"admin\" && <MenuItem onClick={(e)=>handleClose(e)}><Link to=\"/admin/addvacation\">Add Vacation</Link></MenuItem>}\n    {user?.role === \"admin\" && <MenuItem onClick={(e)=>handleClose(e)}><Link to=\"/admin/chart\">Followers Chart</Link></MenuItem>}\n    {!user?.token && <MenuItem onClick={(e)=>handleClose(e)}> <Link to=\"/login\">Login</Link></MenuItem>}\n    {!user?.token && <MenuItem onClick={(e)=>handleClose(e)}> <Link to=\"/register\">Register</Link></MenuItem>}\n     {user?.token?.length && (<MenuItem onClick={(e)=>{\n       handleClose(e)\n       localStorage.clear()\n       dispatch({\n         type:LOG_OUT,\n         payload:{}\n        },\n        {\n          type:RESET_VACATIONS,\n          payload:[]\n        }\n        )\n        history.push('/login')\n      }}> <Link to=\"/login\">Logout</Link></MenuItem>)}\n    \n        </Menu>\n      \n      </div>\n      <Switch>\n       \n       <Route exact path=\"/login\"  component={()=><Login/>}/>\n        <Route exact path=\"/register\"  component={()=><Register/>}/>\n      <Route exact path=\"/vacations\"  component={()=><Vacations/>}/>\n      <Route exact path=\"/admin/addvacation\" component={()=><AddVacation/>}/>\n      <Route exact path=\"/admin/chart\" component={()=><Chart/>}/>\n      <Redirect from =\"/\" to=\"/vacations\" exact/>\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App\n","import {GET_VACATIONS} from '../actions/actionsType'\r\nlet oldState = []\r\nexport default  function (newState = oldState , action)  {\r\n    switch (action.type) {\r\n        case GET_VACATIONS:\r\n            const {vacations} = action.payload\r\n            return  {...oldState, vacations}\r\n            \r\n\r\n\r\n        default:\r\n            return oldState   \r\n            \r\n    }\r\n}","import {GET_FOLLOWED_VACATIONS,RESET_VACATIONS} from '../actions/actionsType'\r\n\r\nlet oldState = []\r\nexport default (newState = oldState , action) => {\r\n    \r\n    switch (action.type) {\r\n        case GET_FOLLOWED_VACATIONS:\r\n            const {followedVacations,unfollowedVacations,likes} = action.payload\r\n            return {...oldState , followedVacations,unfollowedVacations,likes}\r\n        case RESET_VACATIONS:    \r\n            return oldState\r\n        default:\r\n            return newState\r\n    }\r\n}","import {POST_VACATION_MESSAGE,DELETE_VACATION_MESSAGE} from '../actions/actionsType'\r\n\r\nlet oldState = {\r\n}\r\n//eslint-disable-next-line\r\nexport default (newState = oldState, action) => {\r\n    switch (action.type) {\r\n        case POST_VACATION_MESSAGE:\r\n            newState = action.payload\r\n            return newState\r\n        \r\n        case DELETE_VACATION_MESSAGE:\r\n            oldState = action.payload\r\n            return oldState\r\n        default:\r\n            return oldState\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport user from './reducers/loginReducer'\nimport adminVacations from './reducers/vacationsReducer'\nimport userVacations from './reducers/followReducer'\nimport postVacation from './reducers/postVacationReducer'\nimport register from './reducers/registerReducer'\nimport loginMessage from './reducers/loginMessageReducer'\nimport editVacationReducer from './reducers/editVacationReducer'\nimport { combineReducers, createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nlet rootReducer = combineReducers({\n  user,\n  adminVacations,\n  register,\n  userVacations,\n  editVacationReducer,\n  postVacation,\n  loginMessage\n})\nlet store = createStore(rootReducer,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nReactDOM.render(\n    <Provider store={store}>\n    <Router>\n    <App/>  \n    </Router>  \n  </Provider>,\n  document.getElementById('root')\n);\n\n","import {LOG_IN,LOG_OUT} from '../actions/actionsType'\r\n\r\n\r\nexport default  (state = {} , action) => {\r\n    switch (action.type) {\r\n        case LOG_IN:\r\n            const {first_name,last_name,username,role,id} = action.payload.user\r\n            const {token} = action.payload\r\n            return   {...state,first_name,last_name,username,role,id,token}\r\n        case LOG_OUT:\r\n            state = action.payload\r\n            return state\r\n                default:\r\n        return state;\r\n    }\r\n}","import {REGISTER_USER,DELETE_REGISTER_USER_MESSAGE} from '../actions/actionsType'\r\n\r\n\r\nexport default  (state = {} , action) => {\r\n    switch (action.type) {\r\n        case REGISTER_USER:\r\n            state = action.payload\r\n            return state\r\n        case DELETE_REGISTER_USER_MESSAGE:\r\n            state = action.payload\r\n            return state\r\n                default:\r\n        return state;\r\n    }\r\n}","import {EDIT_VACATION} from '../actions/actionsType'\r\n\r\nexport default (state={},action) => {\r\n    switch (action.type) {\r\n        case EDIT_VACATION:\r\n            state = action.payload\r\n            return state\r\n        default:\r\n            return state\r\n        }\r\n    }","import { LOG_IN_MESSAGES,CLEAR_LOG_IN_MESSAGES  } from \"../actions/actionsType\";\r\n\r\nexport default (state={},action) => {\r\n    switch (action.type) {\r\n        case LOG_IN_MESSAGES:\r\n            state = action.payload\r\n            return state\r\n        case CLEAR_LOG_IN_MESSAGES:\r\n            state = action.payload\r\n            return state\r\n        default:\r\n        return state\r\n    }\r\n}"],"sourceRoot":""}